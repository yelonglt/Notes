#图解HTTP
***
###TCP/IP协议分层
1. 应用层。应用层决定了向用户提供应用服务时通信的活动。FTP和DNS服务就是其中的两类，HTTP协议也处于该层。
2. 传输层。传输层对上层应用层，提供处于网络连接间的两台计算机之间的数据传输。在传输层里有两种不同的协议TCP和UDP。
3. 网络层。网络层用来处理在网络上流动的数据包。IP协议处理该层。
4. 数据链路层。用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、网卡和光纤等。

###HTTP状态码
1. 1XX，信息性状态码，接收的请求正在处理中。
2. 2XX，成功状态码，请求正常处理完毕。譬如200-OK（成功）、204-NO  Content（无内容）、206-Partial Content（局部内容）
3. 3XX，重定向状态码，需要进行附加操作以完成请求。
4. 4XX，客户端错误状态码，服务器无法处理请求。譬如400-Bad Request（请求报文存在语法错误）、401-Unauthorized（无法认证）、403-Forbidden（服务器禁止访问）、404-Not Found（无法找到请求资源）。
5. 5XX，服务器错误状态码，服务器处理请求出错。譬如500-Internal Server Error （服务端处理请求出错）、503-Service Unavailable（服务不可用）

###通信转发程序
1. 代理。代理是一种有转发功能的应用程序，它扮演了位于服务器和客户端“中间人”的角色，接收由客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。
2. 网关。网关是转发其他服务器通信数据的服务器。接收从客户端发送来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理。有时客户端可能都不会察觉，自己的通信目标是一个网关。
3. 隧道。隧道是在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序。

####代理服务器
代理服务器的基本行为就是接收客户端的请求后转发给其他的服务器。代理服务器可以级连多台。使用代理服务器的理由：利用缓存技术减少网络带宽的流量、组织内部针对特定网站的访问控制，以获取访问日志为主要目的。代理有很多种使用方法，按两种基准分类。一种是是否使用缓存，另一种是是否会修改报文。
1. 缓存代理(Caching Proxy)。代理转发响应时，缓存代理会预先将资源的副本（缓存）保存在代理服务器上。当代理再次接收相同资源的请求时，可以不从源服务器获取资源，直接将之前缓存的资源作为响应返回。
2. 透明代理（Transparent Proxy）。转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理，反之对报文内容进行加工的代理称为非透明代理。

###网关
1. 网关的工作机制和代理十分相似。而网关能使通信线路上的服务器提供非HTTP协议的服务。
2. 利用网关能提高通信的安全性，因为可以在客户端和网关之间的通讯线路上加密以确保连接的安全性。

###隧道
1. 隧道可按要求建立一条与其他服务器的通讯线路，届时使用SSL等加密手段进行通信。
2. 隧道的目的是确保客户端能与服务器进行安全通信，隧道本身不会解析HTTP请求。也就是说请求保持原样中转给之后的服务器，隧道会在通信双方断开连接时结束。

###HTTP的不足
1. 通信使用明文（不加密），内容可能被窃听。
2. 不验证通信方的身份，因此有可能遭遇伪装。
3. 无法验证报文的完整性，所以有可能已经被篡改。

###HTTP加密处理防止被窃听
1. 通信加密。HTTP协议中没有加密机制，但可以通过和SSL（Secure Socket Layer，安全套接层）或TLS（Transport Layer Security，安全层传输协议）的组合使用，加密HTTP的通信内容。使用SSL建立安全通信线路之后，就可以在这条线路上进行HTTP通信了。与SSL组合使用的HTTP被称为HTTPS(HTTP Secure，超文本传输安全协议)。
2. 内容加密。
